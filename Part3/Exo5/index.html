<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Ex 5 partie 3</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <form>
    <label for="number"></label><input type="text" name="direction" id="direction" />
  </form>
  <div id="square"></div>
  <script src="jquery-3.2.1.js"></script>
  <script>



// $("#direction").keydown(function(event){
//   if(event.which === 39) { // 39 droite
//   // console.log($("#square").css("left", "-+10");
//
//     $("#square").css("left", "+=10");
//   }
//   if(event.which === 37) { // 37 gauche
//   // console.log($("#square").offset().left);
//     $("#square").css("left", "-=10");
//   }
//   if(event.which === 38) { // 38 haut
//     $("#square").css("top", "-=10");
//   }
//   if(event.which === 40) { // 40 bas
//     $("#square").css("top", "+=10");
//   }
// });



$(document).ready(function() {
  var $square = $('#square');

$("#direction").keydown(function(e) {
  var windowWidth = $(window).width();
  var windowHeight = $(window).height();
  var divOffset = $square.offset();
  var divHeight = $square.height();
  var divWidth = $square.width();
  switch(e.which) {
    case 37 : // 37 gauche
      if(divOffset.left >= 10) {
        $square.css('left', divOffset.left - 10 + 'px');
      } else {
        $square.css('left', windowWidth - divWidth + 'px');
      }
    break;
    case 38 : // 38 haut
      if(divOffset.top > 10) {
        $square.css('top', divOffset.top - 10 + 'px');
      } else {
        $square.css('top', windowHeight - divHeight + 'px');
      }
    break;
    case 39 : // 39 droite
      if(divOffset.left + divWidth < windowWidth) {
        $square.css('left', divOffset.left + 10 + 'px');
      } else {
        $square.css('left', '0px');
      }
    break;
    case 40 : // 40 bas
      if(divOffset.top + divHeight < windowHeight) {
        $square.css('top', divOffset.top + 10 + 'px');
      } else {
        $square.css('top', '0px');
      }
    break;
    default :
      alert('Appuyez sur une flèche directionnelle');
    break;
  }
});
});



//
// var squareWidth = $("#square").width(); //définition d'un variable sur la hauteur max
// var squareHeight = $("#square").height();//définition d'une variable sur la longueur max
//  var offset = $("#square").offset()
//
// $(function () {
//   $("#direction").keydown(function(event){
//     var windowWidth = $(window).width();
//   switch (event.which) {
//     case 39:  // 39 droite
//     if ((offset.left + squareWidth) < $(window).width()){
//         $("#square").css("left", offset.left + 10 + "px");
//       } else {
//         $("#square").css("left","0px");
//       }
//         console.log($("#square").offset())
//       break;
//     case 37: // 37 gauche
//      if (offset.left = 10){
//         $("#square").css("left", windowWidth - squareWidth + 'px');
//       } else {
//         $("#square").css("left",offset.left - 10 + "px");
//       }
//         console.log($("#square").offset())
//       break;
//     case 38: // 38 haut
//     if (offset.top <= 0){
//         $("#square").css("top", offset.top - 10 + "px");
//       } else {
//         $("#square").css("top",offset.top - 10 + "px");
//       }
//         console.log($("#square").offset())
//       break;
//     case 40:// 40 bas
//     if ((offset.top + squareHeight) < $(window).height()){
//         $("#square").css("top", offset.top + 10 + "px");
//       } else {
//         $("#square").css("top","15px");
//       }
//         console.log($("#square").offset())
//       break;
//       default:
//         alert("Veuillez appuyer sur une des flèches");
//     }
//     });
// });
  </script>
</body>
</html>
